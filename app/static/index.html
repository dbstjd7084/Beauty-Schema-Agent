<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeautySchema AI Agent Dashboard</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

<div class="container-fluid p-4">
    <div class="row g-4">
        
        <!-- 왼쪽 열: Input & Agent Reasoning Log -->
        <div class="col-lg-6">
            <div class="custom-card mb-4">
                <div class="card-header-custom">
                    <span class="fw-bold"><i class="bi bi-robot me-2"></i>AI Agent Reasoning</span>
                    <span class="badge bg-primary">v2.4 Active</span>
                </div>
                <div class="input-section">
                    <div class="input-group mb-3">
                        <input type="text" id="urlInput" class="form-control form-control-dark" placeholder="분석할 제품 URL을 입력하세요...">
                        <button class="btn btn-primary px-4" id="runBtn">Run Agent</button>
                    </div>
                    <div class="terminal-log" id="logWindow">
                        <div class="text-muted small">$ System initialized. Ready for beauty product analysis.</div>
                    </div>
                </div>
            </div>
        </div>
        

        <!-- 오른쪽 열: JSON-LD & Preview -->
        <div class="col-lg-6">
            
            <!-- JSON-LD 코드 박스 -->
            <div class="custom-card mb-4">
                <div class="card-header-custom">
                    <span class="fw-bold"><i class="bi bi-file-earmark-code me-2"></i>Generated JSON-LD Schema</span>
                    <button class="btn btn-copy" id="copyBtn"><i class="bi bi-clipboard me-1"></i>Copy</button>
                </div>
                <div class="json-display" id="jsonOutput">
                    <span class="text-muted">// Schema will be displayed here after analysis</span>
                </div>
                <div class="validation-msg" id="validationArea" style="display:none;">
                    <i class="bi bi-check2-circle me-1"></i> $ ✓ Schema validated successfully
                </div>
            </div>

            <!-- Google Search Preview -->
            <div class="custom-card mb-4">
                <div class="card-header-custom">
                    <span class="fw-bold"><i class="bi bi-google me-2"></i>Google Search Preview</span>
                    <span class="badge bg-info text-dark" style="font-size: 0.7rem;">Rich Results</span>
                </div>
                <div class="preview-body">
                    <div class="google-card shadow-sm">
                        <div class="d-flex align-items-center mb-1">
                            <div class="google-favicon">B</div>
                            <div class="google-url" id="prevUrl">yoursite.com › products</div>
                        </div>

                        <div class="google-title" id="prevTitle">분석 대기 중...</div>
                        <div class="google-desc" id="prevDesc">에이전트가 분석을 완료하면 이곳에 설명문이 생성됩니다.</div>

                        <div id="prevRatingArea" class="google-stars" style="display:none;">
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-half text-warning"></i>
                            <span class="ms-1 text-dark" style="font-size: 14px;" id="prevRatingText">0 (0 reviews)</span>
                        </div>

                        <div id="prevVideoArea" class="mt-2" style="display:none;">
                            <div style="background: #f1f3f4; border-radius: 8px; padding: 10px; font-size: 0.8rem; color: #70757a;">
                                <i class="bi bi-play-btn-fill me-1"></i> Video Preview Available
                            </div>
                        </div>

                        <div class="enhanced-footer">
                            <i class="bi bi-info-circle me-1"></i> Rich Result Preview
                            
                            <div id="ProductInfo" class="mt-2 text-primary d-flex gap-3" style="display:none;">
                                <span><i class="bi bi-tag-fill me-1"></i><span id="prevPrice">₩0</span></span>
                                <span><i class="bi bi-check-lg me-1"></i>In Stock</span>
                            </div>

                            <div id="localInfo" class="mt-2 text-secondary" style="display:none; font-size: 0.85rem;">
                                <i class="bi bi-geo-alt-fill me-1"></i><span id="prevAddress">Address Info</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SEO Live Video Alert -->
            <div class="custom-card" id="liveMonitorCard" style="display: none;">
                <div class="card-header-custom d-flex justify-content-between align-items-center">
                    <span class="fw-bold"><i class="bi bi-broadcast me-2 text-info"></i>Real-time SEO Monitor</span>
                    <span class="badge bg-info text-dark" style="font-size: 0.7rem;">Live Stream Detection</span>
                </div>
                <div class="p-3">
                    <div class="alert alert-dark border-secondary d-flex align-items-center mb-0" style="background: #1a1d21; border-radius: 8px;">
                        <div class="flex-grow-1">
                            <div class="text-info small fw-bold mb-1">
                                <i class="bi bi-dot animate-pulse"></i> Live Broadcast Detected
                            </div>
                            <div class="small text-white-50">
                                <div class="mb-1 text-white">Target: <span class="text-info text-decoration-underline" id="notifUrl">-</span></div>
                                해당 페이지의 실시간 상태가 감지되었습니다. 검색 결과 반영을 위해 <strong>Indexing API</strong>를 호출하고, 방송 종료 시 마크업 업데이트에 유의하시기 바랍니다.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- col-6 end -->
    </div> <!-- row end -->
</div>

<!-- Custom JS -->
<script src="/static/js/script.js"></script>
</body>
</html>